---
interface Props {
  src: string;
  caption?: string;
}

const { src, caption } = Astro.props;
---

<figure class="video">
  <div class="video__wrapper">
    <iframe
      src={src}
      title={caption || 'Embedded video'}
      loading="lazy"
      allowfullscreen
    ></iframe>
  </div>
  {caption && <figcaption>{caption}</figcaption>}
</figure>

<style>
  .video {
    margin: 2rem 0;
  }

  .video__wrapper {
    aspect-ratio: 16 / 9;
    width: 100%;
  }

  .video__wrapper iframe {
    width: 100%;
    height: 100%;
    border: 0;
    border-radius: 4px;
  }

  .video figcaption {
    color: gray;
    font-style: italic;
    font-size: 85%;
    margin-top: 0.5rem;
  }
</style>
